"use strict";angular.module("valueMash",["ngMaterial","ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ngStorage","toaster","angular-cache","ng-token-auth"]).config(["$httpProvider","$authProvider",function(t,o){"#%21"===window.location.hash.substr(0,4)&&window.location.replace(window.location.href.split("#%21").join("#!")),t.defaults.withCredentials=!0,o.configure({apiUrl:""})}]).run(["$rootScope","Notifier","User","$state",function(t){t.$on("$stateChangeStart",function(){}),t.$on("auth:validation-success",function(){console.log("auth:validation-success")}),t.$on("auth:validation-error",function(){console.log("auth:validation-error")}),t.$on("auth:validation-expired",function(){console.log("auth:validation-expired")}),t.$on("auth:login-success",function(){console.log("auth:login-success")}),t.$on("auth:login-error",function(){console.log("auth:login-error")}),t.$on("auth:registration-email-success",function(){console.log("auth:registration-email-success")}),t.$on("auth:registration-email-error",function(){console.log("auth:registration-email-error")})}]),angular.module("valueMash").controller("LayoutGuestCtrl",["$scope","$rootScope","$state",function(t,o,e){t.$state=e,t.layoutModel={}}]),angular.module("valueMash").controller("LayoutAppCtrl",["$scope","$rootScope","$state",function(t,o,e){t.$state=e,t.layoutModel={}}]),angular.module("valueMash").controller("DashboardCtrl",["$scope",function(){}]),angular.module("valueMash").controller("LoginCtrl",["$scope","API",function(t,o){t.attemptAuth=function(t){o.login(t)},t.attemptRegister=function(t){o.register(t)},t.resetPass=function(t){o.resetPassword(t)}}]),angular.module("valueMash").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,o,e){e.html5Mode(!1),e.hashPrefix("!"),o.otherwise("/login"),t.state("layout_guest",{"abstract":!0,isPublic:!0,views:{root:{templateUrl:"modules/layout/layout_guest.html",controller:"LayoutGuestCtrl"}}}).state("layout_guest.login",{url:"/login",templateUrl:"modules/guest/login.html",controller:"LoginCtrl",guestOnly:!0,isPublic:!0}).state("layout_app",{"abstract":!0,isPublic:!1,views:{root:{templateUrl:"modules/layout/layout_app.html",controller:"LayoutAppCtrl"},"sidebar@layout_app":{templateUrl:"modules/layout/_layout_app_sidebar.html",controller:"LayoutAppCtrl"}}}).state("layout_app.dashboard",{url:"/dashboard",isPublic:!1,templateUrl:"modules/dashboard/dashboard.html",controller:"DashboardCtrl",resolve:{auth:["$auth",function(t){return t.validateUser()}]}})}]),angular.module("valueMash").service("User",["$auth",function(t){var o={isGuest:function(){return console.log(t.validateUser()),t.validateUser()},isAuth:function(){return console.log(!!t.validateUser()),!!t.validateUser()}};return o}]),angular.module("valueMash").service("Notifier",["$mdToast",function(t){var o={show:function(o){t.show(t.simple().content(o).position("top left").hideDelay(1e3))}};return o}]),angular.module("valueMash").service("API",["$http","$auth","Notifier",function(t,o,e){var a=function(t){console.warn("reportErrors",t),angular.isArray(t.errors)&&e.show(t.errors[0])},n={login:function(t){return o.submitLogin(t).then(function(){}).catch(function(t){a(t)})},register:function(t){o.submitRegistration(t).then(function(){}).catch(function(t){a(t)})},resetPassword:function(t){o.requestPasswordReset(t).then(function(){}).catch(function(t){a(t)})}};return n}]),angular.module("valueMash").run(["$templateCache",function(t){t.put("modules/dashboard/dashboard.html",'<h2>Dashboard!</h2><md-button class="contact" ui-sref="layout_guest.login" aria-label="Log in"><md-tooltip>Contact Bob</md-tooltip>Log in</md-button>'),t.put("modules/layout/_layout_app_sidebar.html","<md-toolbar class=\"md-whiteframe-z1\"><h1>Sidebar</h1></md-toolbar><md-list><md-list-item ng-repeat=\"it in ['1','2','3']\"><md-button>Thing {{ it }}</md-button></md-list-item></md-list>"),t.put("modules/layout/layout_app.html",'<md-sidenav ui-view="sidebar" class="site-sidenav md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')"></md-sidenav><div flex="" layout="column" tabindex="-1" role="main" class="md-whiteframe-z2"><md-toolbar layout="row" class="md-whiteframe-z1"><md-button class="menu" hide-gt-sm="" ng-click="ul.toggleList()" aria-label="Show User List">Menu</md-button><h1>Layout_app.html <i class="fa fa-user"></i></h1></md-toolbar><md-content flex="" id="content" ui-view=""><p>ui-view</p></md-content></div>'),t.put("modules/layout/layout_guest.html",'<div flex="" layout="column" tabindex="-1" role="main" class="md-whiteframe-z2"><md-toolbar layout="row" class="md-whiteframe-z1" layout-padding=""><h1>Layout guest</h1></md-toolbar><md-content id="content" ui-view="" layout-padding=""></md-content><md-content layout="row" id="footer" layout-padding=""><p>Footer.</p></md-content></div>'),t.put("modules/guest/login.html",'<h3>Login!</h3><md-content layout="row"><md-button ui-sref="layout_app.dashboard" aria-label="Log in" class="contact"><md-tooltip>Dashboard</md-tooltip>Go to Dashboard</md-button></md-content><form layout="row" name="loginForm" ng-submit="attemptAuth(credentials)" novalidate="novalidate"><md-content layout-padding="layout-padding"><div layout="row"><md-input-container><label>Email</label> <input ng-model="credentials.email" required="required"></md-input-container><md-input-container><label>Password</label> <input ng-model="credentials.password" type="password" required="required"></md-input-container></div><md-button ng-disabled="loginForm.$invalid" class="submit-btn md-raised md-primary">Log In</md-button></md-content></form><form layout="row" name="signupForm" ng-submit="attemptRegister(signup)" novalidate="novalidate"><md-content layout-padding="layout-padding"><div layout="row"><md-input-container><label>Email</label> <input ng-model="signup.email" required="required"></md-input-container><md-input-container><label>Password</label> <input ng-model="signup.password" type="password" required="required"></md-input-container><md-input-container><label>Password Confirmation</label> <input ng-model="signup.password_confirmation" type="password" required="required"></md-input-container></div><md-button ng-disabled="signupForm.$invalid" class="submit-btn md-raised md-primary">Sign up</md-button></md-content></form><form layout="row" name="resetPassForm" ng-submit="resetPass(reset)" novalidate="novalidate"><md-content layout-padding="layout-padding"><div layout="row"><md-input-container><label>Email</label> <input ng-model="reset.email" required="required"></md-input-container></div><md-button ng-disabled="resetPassForm.$invalid" class="submit-btn md-raised md-primary">Request password reset</md-button></md-content></form>')}]);